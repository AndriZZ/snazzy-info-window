!function(t,o){if("function"==typeof define&&define.amd)define("SnazzyInfoWindow",["module","exports"],o);else if("undefined"!=typeof exports)o(module,exports);else{var e={exports:{}};o(e,e.exports),t.SnazzyInfoWindow=e.exports}}(this,function(t,o){"use strict";function e(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function s(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?t:o}function i(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}function r(t,o){var e=/^(-{0,1}\.{0,1}\d+(\.\d+)?)[\s|\.]*(\w*)$/;if(t&&e.test(t)){var s=e.exec(t),i=s[1],n=s[3]||"px";return{value:1*i,units:n,original:t}}return o?r(o):{original:o}}Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,o){for(var e=0;e<o.length;e++){var s=o[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(o,e,s){return e&&t(o.prototype,e),s&&t(o,s),o}}(),a="si-",p=1.41421356237,l=.7071067811865474,h={h:"0px",v:"3px",blur:"6px",spread:"0px",color:"#000"},f=function(t){function o(t){e(this,o);var i=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t));i._marker=null,i._floatWrapper=null,i._opts=t||{};var r=i._opts.position;return r&&(r=r.toLowerCase()),"top"!==r&&"bottom"!==r&&"left"!==r&&"right"!==r&&(i._opts.position="top"),void 0===i._opts.border&&(i._opts.border={}),void 0===i._opts.pointer&&(i._opts.pointer=!0),void 0===i._opts.shadow&&(i._opts.shadow={}),i}return i(o,t),n(o,[{key:"eachByClassName",value:function(t,o){if(this._floatWrapper)for(var e=this._floatWrapper.getElementsByClassName(a+t),s=0;s<e.length;s++)o&&o.apply(this,[e[s]])}},{key:"attach",value:function(t){var o=this;google&&void 0!==t&&(this._marker=t,google.maps.event.addListener(this._marker,"click",function(){o.open()}))}},{key:"open",value:function(){this._marker&&this.setMap(this._marker.getMap())}},{key:"close",value:function(){this.setMap(null)}},{key:"draw",value:function(){var t=this;if(this._marker&&this._floatWrapper){var o=this._opts.position;o=o.charAt(0).toUpperCase()+o.slice(1);var e=o,s=this._opts.offset;s&&(s.left&&this.eachByClassName("wrapper-"+this._opts.position,function(t){t.style.marginLeft=s.left}),s.top&&this.eachByClassName("wrapper-"+this._opts.position,function(t){t.style.marginTop=s.top}));var i=this._opts.backgroundColor;i&&(this.eachByClassName("content",function(t){t.style.backgroundColor=i}),this._opts.pointer&&this.eachByClassName("pointer-bg-"+this._opts.position,function(t){t.style["border"+e+"Color"]=i})),this._opts.padding&&this.eachByClassName("frame",function(o){o.style.padding=t._opts.padding}),this._opts.borderRadius&&this.eachByClassName("frame",function(o){o.style.borderRadius=t._opts.borderRadius}),this._opts.fontColor&&this.eachByClassName("wrapper-"+this._opts.position,function(o){o.style.color=t._opts.fontColor}),this._opts.fontSize&&this.eachByClassName("wrapper-"+this._opts.position,function(o){o.style.fontSize=t._opts.fontSize}),this._opts.border?!function(){void 0!==t._opts.border.width&&!function(){var o=r(t._opts.border.width,"0px");t.eachByClassName("content",function(t){t.style.borderWidth=o.value+o.units}),t._opts.pointer&&t.eachByClassName("pointer-bg-"+t._opts.position,function(e){e.style[t._opts.position]=Math.round(-o.value*p)+o.units})}();var o=t._opts.border.color;o&&(t.eachByClassName("content",function(t){t.style.borderColor=o}),t._opts.pointer&&t.eachByClassName("pointer-border-"+t._opts.position,function(t){t.style["border"+e+"Color"]=o}))}():(this.eachByClassName("content",function(t){t.style.borderWidth=0}),this._opts.pointer&&this.eachByClassName("pointer-bg-"+this._opts.position,function(o){o.style[t._opts.position]=0})),this._opts.pointer&&this._opts.pointer!==!0&&(this._opts.shadow&&this.eachByClassName("shadow-pointer-"+this._opts.position,function(o){o.style.width=t._opts.pointer,o.style.height=t._opts.pointer}),this.eachByClassName("pointer-"+this._opts.position,function(o){o.style.borderWidth=t._opts.pointer})),this._opts.shadow&&!function(){var o=t._opts.shadow,e=function(t){var e=o[t];return void 0!==e&&null!=e};(e("h")||e("v")||e("blur")||e("spread")||e("color"))&&!function(){var e=r(o.h,h.h),s=r(o.v,h.v),i=r(o.blur,h.blur),n=r(o.spread,h.spread),a=o.color||h.color,p=function(t,o){return t+" "+o+" "+i.original+" "+n.original+" "+a};t.eachByClassName("shadow-frame",function(t){t.style.boxShadow=p(e.original,s.original)});var f=l*(e.value-s.value)+e.units,c=l*(e.value+s.value)+s.units;t.eachByClassName("shadow-inner-pointer-"+t._opts.position,function(t){t.style.boxShadow=p(f,c)})}(),t._opts.shadow.opacity&&t.eachByClassName("shadow-wrapper-"+t._opts.position,function(o){o.style.opacity=t._opts.shadow.opacity})}();var n=this.getProjection().fromLatLngToDivPixel(this._marker.position);this._floatWrapper.style.top=Math.floor(n.y)+"px",this._floatWrapper.style.left=Math.floor(n.x)+"px"}}},{key:"onAdd",value:function(){if(!this._floatWrapper){var t=function(){for(var t=arguments.length,o=Array(t),e=0;e<t;e++)o[e]=arguments[e];var s=document.createElement("div");if(o)for(var i=0;i<o.length;i++){var r=o[i];r&&(s.className&&(s.className+=" "),s.className+=a+r)}return s},o=t("wrapper-"+this._opts.position);if(this._opts.wrapperClass&&(o.className+=" "+this._opts.wrapperClass),this._opts.shadow){var e=t("shadow-wrapper-"+this._opts.position),s=t("frame","shadow-frame");if(e.appendChild(s),this._opts.pointer){var i=t("shadow-pointer-"+this._opts.position),r=t("shadow-inner-pointer-"+this._opts.position);i.appendChild(r),e.appendChild(i)}o.appendChild(e)}var n=t("frame","content-wrapper"),p=t("content");if(this._opts.content&&(p.innerHTML=this._opts.content),n.appendChild(p),o.appendChild(n),this._opts.pointer){var l=t("pointer-"+this._opts.position,"pointer-border-"+this._opts.position),h=t("pointer-"+this._opts.position,"pointer-bg-"+this._opts.position);o.appendChild(l),o.appendChild(h)}var f=t("float-wrapper");f.appendChild(o),this._floatWrapper=f,this.getPanes().floatPane.appendChild(this._floatWrapper)}}},{key:"onRemove",value:function(){if(this._floatWrapper){var t=this._floatWrapper.parentElement;t&&t.removeChild(this._floatWrapper),this._floatWrapper=null}}}]),o}(google.maps.OverlayView);o.default=f,t.exports=o.default});
//# sourceMappingURL=snazzy-info-window.min.js.map
